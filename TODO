TODO:
* rework test-ehstr
  * break into separate tests
